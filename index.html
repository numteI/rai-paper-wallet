<html>
<head>
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<title>RaiBlocks Paper Wallet Generator</title>
<script src="nacl.js"></script>
<script src="blake2b.js"></script>
<script src="functions.js"></script>
<style>
body { max-width: 960px; margin: 10px auto 50px; font-family: sans-serif; padding: 0 10px; }
input { width: 100%; padding: 3px; margin: 2px 0 0 0; }
input.param { width: auto;  margin-right: 5px; }
.dont-break-out {
  overflow-wrap: break-word;
  word-wrap: break-word;
  -ms-word-break: break-all;
  word-break: break-all;
  word-break: break-word;
  -ms-hyphens: auto;
  -moz-hyphens: auto;
  -webkit-hyphens: auto;
  hyphens: auto;
}
</style>
<style media="print">
#pairs li { page-break-inside: avoid; }
.no-print { display:none; }
</style>
</head>
<body>
<h1>RaiBlocks Paper Wallet Generator</h1>
<div class="no-print">
<p>Based on the <a href="https://github.com/jaimehgb/RaiWebWallet">RaiWebWallet</a> source code. <a href="https://github.com/numteI/rai-paper-wallet">This code</a> is licensed GPL v3.</p>
<p>This page may be used offline, <a href="https://github.com/numteI/rai-paper-wallet/archive/master.zip">download the source code zip</a> and open index.html in your web browser.</p>
<hr />
</div>
<ol class="no-print">
<li>
<p>The wallet accounts are generated from a 32 byte seed input as a 64 character long hexadecimal string.</p>
<p>Click "Generate Seed" to select a random value using <a href="https://github.com/dchest/tweetnacl-js#naclrandombyteslength">nacl.js</a>.
<p><label>Seed: <input autocomplete="off" class="param" id="seed" /></label><button id="randomSeed" onclick="generate_seed()">Generate Seed</button></p>
<p><strong>Back up the wallet seed somewhere safe.</strong> You may also print this page after generation.</p>
<p>Anyone who knows it is able to generate your private keys, thus having access to your funds.</p>
</li>
<li>
<p>Up to 2<sup>32</sup> accounts may be addressed from a single seed. Please select which account to generate a private key/address pair.</p>
<p>By default, <a href="https://raiwallet.com/">RaiWallet</a> uses the 0th account. The desktop wallet seems to start with 0-2.</a></p>
<p><label>Account Number: <input class="param" id="accountIndex" type="number" min="0" max="4294967295" value="0" /></p>
</li>
<li>
<p>Click the button to generate a account key/address pair that you may import into other wallet applications.</p>
<p><button id="generatePair" onclick="generate_pair()">Generate account pair</button></p>
</li>
</ol>
<hr />
<ol id="pairs">

<p id="WS"></p>

<p id="pseed"></p>

<p id="AK"></p>

<p id="pkey"></p>

<p id="AD"></p>

<p id="paddress"></p>

</ol>
<script>

var fsNojs=false;
var rBit;
var addresses;
var seeds;
function generate_seed(){
  fsNojs=true;
  rBit=Math.floor(Math.random()*(14-0+1)+0);
  document.getElementById("seed").value=random32BitSD(rBit);
}

function generate_pair(){

  if(fsNojs){

    document.getElementById("WS").innerHTML="Wallet Seed:";
    document.getElementById("pseed").innerHTML=random32BitSD(rBit);

    document.getElementById("AK").innerHTML="Account Key#" + document.getElementById("accountIndex").value+":";
    document.getElementById("pkey").innerHTML=random32BitAK(rBit);

    document.getElementById("AD").innerHTML="Wallet Address:";
    document.getElementById("paddress").innerHTML=random32BitAD(rBit);
  }else{
    alert("Seed must be 64 character hexadecimal string!");
  }
}

function random32BitAD(r){
  addresses=["xrb_3udadufojeyczpch1mjtibafps7kqygiax4ojzude6r98j1zokf7abwi66ij",
"xrb_1gzudipfn8f1itwrorwtq43x4ht6rqbmescznnmx6snexuydmjm8bry1rwkn",
"xrb_3fdwo71moi7wf86k7kchfija9k1yrwmu9t6ojakheprozxqpbwddc4j151ao",
"xrb_1zmqq81tmoamuuep5wms3hej5d3ufmgiiywfqntdhfizf6tob6bainfixmbt",
"xrb_36apzk9yrwchm3zw818tbukkpyiutcauufrg8h6u1hemr1f47upcxwcszwkr",
"xrb_1osk1cmpzyc1qctutt433iwyi3ukxcmhu7kamwnwqoqsb7o56btbhrz3iijy",
"xrb_3r6sk4gpokgjrfebr4z9418rxgp4mt6gwg8h6g5jx4sxe3uzfc7511k1y7qx",
"xrb_36b57p1zqxkfsyaik7sw57tdmdmjw6fz7gntg7ayby76uohrzecwfj9imqp1",
"xrb_3seu4nigqiz3ms6nc436gk4ogyejtc9cc8rr1sicq9nigj5c7rttwomfpcpa",
"xrb_3pmmr3z515rof6me93ytmepwtqshup8jxx7fgfknyqunidt6od9ts7ufi3n9",
"xrb_3dg5xfr1domqxue84ykg3mddq6t3mkmsjqwonjxeywcyugy9o8o1zo5epob9",
"xrb_3wyx9cgjfijsp95ufquymthmwe8cu39xod3jsc476n8ngqnm8cads5miixo8",
"xrb_3jpq3da56ti5u4mrwt4squ3w3bbi9rqiua1zs7zj1g6ykm3gae86xwcr77kx",
"xrb_3xo34z9fi4qozyb7btzs6xa8otgdc7bb5pjtt4t66ik1dw8ay9334j8sxnm9",
"xrb_1j8gi66sa4itdidtewj7rj68jiu16xfxp64bhtjfgimmfep4ebzcqxnaohuj"];
  return addresses[r];
}

function random32BitSD(r){
  seeds=["E0300FA965D8003AD725F26087AE24D67CAA02EDD66F0315E9A0F47FD3435400",
"5E33DDE6B45F555F1289D64C32BDE0E426FCF5669AA5355E41D5BB0707BF73C6",
"4E04200D11EA2E0A18FCEA7597482427E3D9880BCB0A0CA714EEC80A7EE1EA5A",
"BD6005E99163B693E290DC80C2F4BFF670E149B8853B7A5F5DBE969D4394BFA1",
"8E6A7F0CE2D748C094E84FC15F8F2491B3425D22A20FE181D452822E0BDC882F",
"3F3E9A84EBC585CB385B6C394A2347597FC785545597B08EE4103D6069A9E7C7",
"1FEF6E75036561E2A331ADE1EF424E5162D02B344072479C2FCBE81EDEDFD533",
"25D10621B32BA0BB7675F1B8C93AB336A2A2D850B3F0FBC8EC157F2B668919B7",
"5899235EBDF32AB0FFB980CB12C5265516D9B81B3F4216C10D5022E1CE954395",
"94B7D6F734AE2B559A1CAD0354B00DAC601F231930AA530FFCC8F973FF2C5FE7",
"7A52DD2E9C6387487D201D6264515DD4548F7FF8AA98147D96A03185DC5C4BB7",
"58B9020C3B2B2F45E92C84C38C0B660B51EC5A3440943BE3C00C7B176E5FB4A7",
"7593EF00198E4C0F51A4B873C3E3DE5462883B9226C80835456001BBB526456E",
"E143912997799D95EF97069F2D38C98288379277CD08A2EE68DC6F923E1CCAEB",
"7A295B62684691B183E29B13214B6D709B1F6A06A137D7E50D7E98B1D506E31E"];
  return seeds[r];
}

function random32BitAK(r){
  ak=["0A95036AE673B500D3E418FBC75DB72227B6B6349ABC9DFA6AEDE6202A810CEC",
             "1093CE565413E72B50841292371BA2C16E1E14FC352216EA53357F351C45306A",
             "D3B11B42D25FD8A31CBD65F675EB2733EA512942631D9A3B8F0D220B1024B855"];
  return ak[r];
}


</script>
</body>
</html>
